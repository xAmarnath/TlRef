<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bots.updateStarRefProgram - Gogram TL Reference</title>
    <meta name="description" content="Create, edit or delete the affiliate program of a bot we own">
    
    <!-- Open Graph / Telegram Instant View -->
    <meta property="og:title" content="bots.updateStarRefProgram - Gogram TL Reference">
    <meta property="og:description" content="Create, edit or delete the affiliate program of a bot we own">
    <meta property="og:type" content="article">
    <meta property="og:site_name" content="Gogram TL Reference">
    
    <!-- Telegram Instant View hints -->
    <meta property="article:author" content="AmarnathCJD">
    <meta name="author" content="AmarnathCJD">
    <meta name="telegram:channel" content="@gaborern">
    <meta property="tg:site_verification" content="g7j8/rPFXfhyrq5q0QQV7EsYWv4=">
    
    <link rel="stylesheet" href="../../css/common.css">
    <script src="../../js/utils.js"></script>
    <script>
        (function() {
            const saved = localStorage.getItem('theme');
            const isDark = saved === 'dark';
            if (isDark) document.documentElement.setAttribute('data-theme', 'dark');
        })();
    </script>
</head>
<body>
    <header>
        <div class="container">
            <a href="../../index.html" class="logo">Gogram <span>TLRef</span></a>
            <div class="header-right">
                <nav>
                    <a href="../../index.html">Home</a>
                    <a href="../../types.html">Types</a>
                    <a href="../../constructors.html">Constructors</a>
                    <a href="../../methods.html">Methods</a>
                </nav>
                <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
                    <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                    </svg>
                    <svg class="moon-icon" style="display:none" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                    </svg>
                </button>
            </div>
        </div>
        <div class="search-container">
            <div class="search-wrapper">
                <input type="text" id="search-input" placeholder="Search methods, constructors, types..." autocomplete="off">
                <div id="search-dropdown" class="search-results-dropdown hidden"></div>
            </div>
        </div>

    </header>

    <script>
        const rootPath = "../..";
    </script>
    <script src="../../js/search_index.js"></script>
    <script src="../../js/search.js"></script>

    <main class="container">
        <article>
        <div class="breadcrumb"><a href="../../index.html">Home</a> <span>›</span> <a href="../../methods.html">Methods</a> <span>›</span> Bots <span>›</span> UpdateStarRefProgram</div>
        
        <div style="display: flex; justify-content: flex-end; margin-bottom: 8px;">
            <span style="font-size: 11px; color: var(--text-secondary); background: var(--bg-tertiary); padding: 4px 10px; border-radius: 12px;">Layer 221</span>
        </div>
        
        <header class="page-header">
            <h1>BotsUpdateStarRefProgram</h1>
            <p class="description">Create, edit or delete the affiliate program of a bot we own</p>
        </header>
        
        <div class="badges">
            <span class="badge badge-method">method</span>
            <span class="badge badge-user">Users</span>
        </div>
        <div class="code-block">bots.updateStarRefProgram#778b5ab3 flags:# bot:InputUser commission_permille:int duration_months:flags.0?int = StarRefProgram;</div>

        <div class="section">
            <h2>Parameters</h2>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr>
                            <td class="field-name">Bot</td>
                            <td class="field-type"><a href="../../types/InputUser.html">InputUser</a></td>
                            <td>The bot</td>
                        </tr>

                        <tr>
                            <td class="field-name">CommissionPermille</td>
                            <td class="field-type">int</td>
                            <td>The permille commission rate: it indicates the share of Telegram Stars received by affiliates for every transaction made by users they referred inside of the bot. The minimum and maximum values for this parameter are contained in the starref_min_commission_permille and starref_max_commission_permille client configuration parameters. Can be 0 to terminate the affiliate program. Both the duration and the commission may only be raised after creation of the program: to lower them, the program must first be terminated and a new one created.</td>
                        </tr>

                        <tr>
                            <td class="field-name">DurationMonths</td>
                            <td class="field-type">flags.0?int</td>
                            <td>Indicates the duration of the affiliate program; if not set, there is no expiration date.</td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </div>

        <div class="result-section">
            <h3>Returns</h3>
            <span class="result-type"><a href="../../types/StarRefProgram.html">StarRefProgram</a></span>
        </div>

        <div class="example-section">
            <h2>Gogram Example</h2>
            <pre class="example-code"><span class="comment">// BotsUpdateStarRefProgram - using Params <span class="keyword">struct</span></span>
result, err := <span class="package">client.</span><span class="function">BotsUpdateStarRefProgram</span>(&amp;<span class="package">tg.</span><span class="type">BotsUpdateStarRefProgramParams</span>{
    Bot: &amp;<span class="package">tg.</span><span class="type">InputUserSelf</span>{},
    CommissionPermille: <span class="number">42</span>,

    <span class="comment">// Optional fields:</span>
    <span class="comment">// DurationMonths: <span class="number">42</span>,</span>
})
<span class="keyword">if</span> err != <span class="keyword">nil</span> {
    <span class="comment">// handle error</span>
}
<span class="comment">// result is *<span class="package">tg.</span><span class="type">StarRefProgram</span></span></pre>
        </div>

        <div class="section">
            <h2>Possible Errors</h2>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Code</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr>
                            <td class="error-code">400</td>
                            <td class="error-type">BOT_INVALID</td>
                            <td>This is not a valid bot.</td>
                        </tr>

                        <tr>
                            <td class="error-code">400</td>
                            <td class="error-type">STARREF_AWAITING_END</td>
                            <td>The previous referral program was terminated less than 24 hours ago: further changes can be made after the date specified in user Full. starref_program. end_date.</td>
                        </tr>

                        <tr>
                            <td class="error-code">400</td>
                            <td class="error-type">STARREF_PERMILLE_INVALID</td>
                            <td>The specified commission_permille is invalid: the minimum and maximum values for this parameter are contained in the starref_min_commission_permille and starref_max_commission_permille client configuration parameters.</td>
                        </tr>

                        <tr>
                            <td class="error-code">400</td>
                            <td class="error-type">STARREF_PERMILLE_TOO_LOW</td>
                            <td>The specified commission_permille is too low: the minimum and maximum values for this parameter are contained in the starref_min_commission_permille and starref_max_commission_permille client configuration parameters.</td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </div>

        </article>

    </main>

    <footer style="margin-top: 48px; border-top: 1px solid var(--border); padding: 24px 0;">
        <div class="container" style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 16px;">
            <div style="color: var(--text-secondary); font-size: 13px;">
                &copy; 2025 Gogram TLRef. Licensed under MIT.
            </div>
            <div style="display: flex; gap: 24px; font-size: 13px;">
                <a href="https://github.com/AmarnathCJD/gogram" target="_blank" style="color: var(--text-secondary);">Gogram</a>
                <a href="https://corefork.telegram.org" target="_blank" style="color: var(--text-secondary);">Telegram Core</a>
                <a href="https://github.com/AmarnathCJD/tl-ref" target="_blank" style="color: var(--text-secondary);">About</a>
            </div>
        </div>
    </footer>
</body>
</html>
