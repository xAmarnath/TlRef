<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>starsTransaction - Gogram TL Reference</title>
    <meta name="description" content="Represents a Telegram Stars or TON transaction.">
    
    <!-- Open Graph / Telegram Instant View -->
    <meta property="og:title" content="starsTransaction - Gogram TL Reference">
    <meta property="og:description" content="Represents a Telegram Stars or TON transaction.">
    <meta property="og:type" content="article">
    <meta property="og:site_name" content="Gogram TL Reference">
    
    <!-- Telegram Instant View hints -->
    <meta property="article:author" content="AmarnathCJD">
    <meta name="author" content="AmarnathCJD">
    <meta name="telegram:channel" content="@gaborern">
    <meta property="tg:site_verification" content="g7j8/rPFXfhyrq5q0QQV7EsYWv4=">
    
    <link rel="stylesheet" href="../css/common.css">
    <script src="../js/utils.js"></script>
    <script>
        (function() {
            const saved = localStorage.getItem('theme');
            const isDark = saved === 'dark';
            if (isDark) document.documentElement.setAttribute('data-theme', 'dark');
        })();
    </script>
</head>
<body>
    <header>
        <div class="container">
            <a href="../index.html" class="logo">Gogram <span>TLRef</span></a>
            <div class="header-right">
                <nav>
                    <a href="../index.html">Home</a>
                    <a href="../types.html">Types</a>
                    <a href="../constructors.html">Constructors</a>
                    <a href="../methods.html">Methods</a>
                </nav>
                <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
                    <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                    </svg>
                    <svg class="moon-icon" style="display:none" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                    </svg>
                </button>
            </div>
        </div>
        <div class="search-container">
            <div class="search-wrapper">
                <input type="text" id="search-input" placeholder="Search methods, constructors, types..." autocomplete="off">
                <div id="search-dropdown" class="search-results-dropdown hidden"></div>
            </div>
        </div>

    </header>

    <script>
        const rootPath = "..";
    </script>
    <script src="../js/search_index.js"></script>
    <script src="../js/search.js"></script>

    <main class="container">
        <article>
        <div class="breadcrumb"><a href="../index.html">Home</a> <span>›</span> <a href="../constructors.html">Constructors</a> <span>›</span> StarsTransactionObj</div>
        
        <div style="display: flex; justify-content: flex-end; margin-bottom: 8px;">
            <span style="font-size: 11px; color: var(--text-secondary); background: var(--bg-tertiary); padding: 4px 10px; border-radius: 12px;">Layer 224</span>
        </div>
        
        <header class="page-header">
            <h1>StarsTransactionObj</h1>
            <p class="description">Represents a Telegram Stars or TON transaction.</p>
        </header>
        
        <div class="badges">
            <span class="badge badge-constructor">constructor</span>
        </div>
        <div class="code-block">starsTransaction#13659eb0 flags:# refund:flags.3?true pending:flags.4?true failed:flags.6?true gift:flags.10?true reaction:flags.11?true stargift_upgrade:flags.18?true business_transfer:flags.21?true stargift_resale:flags.22?true posts_search:flags.24?true stargift_prepaid_upgrade:flags.25?true id:string amount:StarsAmount date:int peer:StarsTransactionPeer title:flags.0?string description:flags.1?string photo:flags.2?WebDocument transaction_date:flags.5?int transaction_url:flags.5?string bot_payload:flags.7?bytes msg_id:flags.8?int extended_media:flags.9?Vector&lt;MessageMedia&gt; subscription_period:flags.12?int giveaway_post_id:flags.13?int stargift:flags.14?StarGift floodskip_number:flags.15?int starref_commission_permille:flags.16?int starref_peer:flags.17?Peer starref_amount:flags.17?StarsAmount paid_messages:flags.19?int premium_gift_months:flags.20?int ads_proceeds_from_date:flags.23?int ads_proceeds_to_date:flags.23?int = StarsTransaction;</div>

        <div class="section">
            <h2>Parameters</h2>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>

                        <tr>
                            <td class="field-name">Refund</td>
                            <td class="field-type">flags.3?true</td>
                            <td>Whether this transaction is a refund.</td>
                        </tr>

                        <tr>
                            <td class="field-name">Pending</td>
                            <td class="field-type">flags.4?true</td>
                            <td>The transaction is currently pending.</td>
                        </tr>

                        <tr>
                            <td class="field-name">Failed</td>
                            <td class="field-type">flags.6?true</td>
                            <td>This transaction has failed.</td>
                        </tr>

                        <tr>
                            <td class="field-name">Gift</td>
                            <td class="field-type">flags.10?true</td>
                            <td>This transaction was a gift from the user in peer. peer.</td>
                        </tr>

                        <tr>
                            <td class="field-name">Reaction</td>
                            <td class="field-type">flags.11?true</td>
                            <td>This transaction is a paid reaction.</td>
                        </tr>

                        <tr>
                            <td class="field-name">StargiftUpgrade</td>
                            <td class="field-type">flags.18?true</td>
                            <td>This transaction pays for the upgrade of a gift to a collectible gift.</td>
                        </tr>

                        <tr>
                            <td class="field-name">BusinessTransfer</td>
                            <td class="field-type">flags.21?true</td>
                            <td>This transaction transfers stars from the balance of a user account connected to a business bot, to the balance of the business bot, see here for more info.</td>
                        </tr>

                        <tr>
                            <td class="field-name">StargiftResale</td>
                            <td class="field-type">flags.22?true</td>
                            <td>This transaction is related to the resale of a collectible gift.</td>
                        </tr>

                        <tr>
                            <td class="field-name">PostsSearch</td>
                            <td class="field-type">flags.24?true</td>
                            <td>Represents payment for a paid global post search.</td>
                        </tr>

                        <tr>
                            <td class="field-name">StargiftPrepaidUpgrade</td>
                            <td class="field-type">flags.25?true</td>
                            <td>Represents payment for a separate prepaid upgrade of a gift.</td>
                        </tr>

                        <tr>
                            <td class="field-name">Id</td>
                            <td class="field-type">string</td>
                            <td>Transaction ID.</td>
                        </tr>

                        <tr>
                            <td class="field-name">Amount</td>
                            <td class="field-type"><a href="../types/StarsAmount.html">StarsAmount</a></td>
                            <td>Amount of Telegram Stars or TON.</td>
                        </tr>

                        <tr>
                            <td class="field-name">Date</td>
                            <td class="field-type">int</td>
                            <td>Date of the transaction (unixtime).</td>
                        </tr>

                        <tr>
                            <td class="field-name">Peer</td>
                            <td class="field-type"><a href="../types/StarsTransactionPeer.html">StarsTransactionPeer</a></td>
                            <td>Source of the incoming transaction, or its recipient for outgoing transactions.</td>
                        </tr>

                        <tr>
                            <td class="field-name">Title</td>
                            <td class="field-type">flags.0?string</td>
                            <td>For transactions with bots, title of the bought product.</td>
                        </tr>

                        <tr>
                            <td class="field-name">Description</td>
                            <td class="field-type">flags.1?string</td>
                            <td>For transactions with bots, description of the bought product.</td>
                        </tr>

                        <tr>
                            <td class="field-name">Photo</td>
                            <td class="field-type">flags.2?<a href="../types/WebDocument.html">WebDocument</a></td>
                            <td>For transactions with bots, photo of the bought product.</td>
                        </tr>

                        <tr>
                            <td class="field-name">TransactionDate</td>
                            <td class="field-type">flags.5?int</td>
                            <td>If neither pending nor failed are set, the transaction was completed successfully, and this field will contain the point in time (Unix timestamp) when the withdrawal was completed successfully.</td>
                        </tr>

                        <tr>
                            <td class="field-name">TransactionUrl</td>
                            <td class="field-type">flags.5?string</td>
                            <td>If neither pending nor failed are set, the transaction was completed successfully, and this field will contain a URL where the withdrawal transaction can be viewed.</td>
                        </tr>

                        <tr>
                            <td class="field-name">BotPayload</td>
                            <td class="field-type">flags.7?bytes</td>
                            <td>Bot specified invoice payload (i. e. the payload passed to input Media Invoice when creating the invoice ).</td>
                        </tr>

                        <tr>
                            <td class="field-name">MsgId</td>
                            <td class="field-type">flags.8?int</td>
                            <td>For paid media transactions, message ID of the paid media posted to peer. peer (can point to a deleted message; either way, extended_media will always contain the bought media).</td>
                        </tr>

                        <tr>
                            <td class="field-name">ExtendedMedia</td>
                            <td class="field-type">Vector&lt;<a href="../types/MessageMedia.html">MessageMedia</a>&gt;</td>
                            <td>The purchased paid media.</td>
                        </tr>

                        <tr>
                            <td class="field-name">SubscriptionPeriod</td>
                            <td class="field-type">flags.12?int</td>
                            <td>The number of seconds between consecutive Telegram Star debiting for Telegram Star subscriptions.</td>
                        </tr>

                        <tr>
                            <td class="field-name">GiveawayPostId</td>
                            <td class="field-type">flags.13?int</td>
                            <td>ID of the message containing the message Media Giveaway, for incoming star giveaway prizes.</td>
                        </tr>

                        <tr>
                            <td class="field-name">Stargift</td>
                            <td class="field-type">flags.14?<a href="../types/StarGift.html">StarGift</a></td>
                            <td>This transaction indicates a purchase or a sale (conversion back to Stars) of a gift.</td>
                        </tr>

                        <tr>
                            <td class="field-name">FloodskipNumber</td>
                            <td class="field-type">flags.15?int</td>
                            <td>This transaction is payment for paid bot broadcasts. Paid broadcasts are only allowed if the allow_paid_floodskip parameter of messages. send Message and other message sending methods is set while trying to broadcast more than 30 messages per second to bot users. The integer value returned by this flag indicates the number of billed API calls.</td>
                        </tr>

                        <tr>
                            <td class="field-name">StarrefCommissionPermille</td>
                            <td class="field-type">flags.16?int</td>
                            <td>This transaction is the receival (or refund) of an affiliate commission (i. e. this is the transaction received by the peer that created the referral link, flag 17 is for transactions made by users that imported the referral link).</td>
                        </tr>

                        <tr>
                            <td class="field-name">StarrefPeer</td>
                            <td class="field-type">flags.17?<a href="../types/Peer.html">Peer</a></td>
                            <td>For transactions made by referred users, the peer that received the affiliate commission.</td>
                        </tr>

                        <tr>
                            <td class="field-name">StarrefAmount</td>
                            <td class="field-type">flags.17?<a href="../types/StarsAmount.html">StarsAmount</a></td>
                            <td>For transactions made by referred users, the amount of Telegram Stars received by the affiliate, can be negative for refunds.</td>
                        </tr>

                        <tr>
                            <td class="field-name">PaidMessages</td>
                            <td class="field-type">flags.19?int</td>
                            <td>This transaction is related to the reception or transmission of a paid message.</td>
                        </tr>

                        <tr>
                            <td class="field-name">PremiumGiftMonths</td>
                            <td class="field-type">flags.20?int</td>
                            <td>This transaction indicates the payment for a gifted Telegram Premium subscription.</td>
                        </tr>

                        <tr>
                            <td class="field-name">AdsProceedsFromDate</td>
                            <td class="field-type">flags.23?int</td>
                            <td>Indicates that this is payment for ad revenue from the specified unixtime (always set together with ads_proceeds_to_date ).</td>
                        </tr>

                        <tr>
                            <td class="field-name">AdsProceedsToDate</td>
                            <td class="field-type">flags.23?int</td>
                            <td>Indicates that this is payment for ad revenue to the specified unixtime.</td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </div>

        <div class="result-section">
            <h3>Returns</h3>
            <span class="result-type"><a href="../types/StarsTransaction.html">StarsTransaction</a></span>
        </div>

        <div class="example-section">
            <h2>Gogram Example</h2>
            <pre class="example-code"><span class="comment">// Creating StarsTransactionObj constructor</span>
obj := &amp;<span class="package">tg.</span><span class="type">StarsTransactionObj</span>{
    Id: <span class="string">&quot;Hello, World!&quot;</span>,
    Amount: &amp;<span class="package">tg.</span><span class="type">StarsAmount</span>{},
    Date: <span class="number">42</span>,
    Peer: &amp;<span class="package">tg.</span><span class="type">StarsTransactionPeer</span>{},

    <span class="comment">// Optional fields:</span>
    <span class="comment">// Refund: <span class="keyword">true</span>,</span>
    <span class="comment">// Pending: <span class="keyword">true</span>,</span>
    <span class="comment">// Failed: <span class="keyword">true</span>,</span>
    <span class="comment">// Gift: <span class="keyword">true</span>,</span>
    <span class="comment">// ... more optional fields</span>
}</pre>
        </div>

        </article>

    </main>

    <footer style="margin-top: 48px; border-top: 1px solid var(--border); padding: 24px 0;">
        <div class="container" style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 16px;">
            <div style="color: var(--text-secondary); font-size: 13px;">
                &copy; 2025 Gogram TLRef. Licensed under MIT.
            </div>
            <div style="display: flex; gap: 24px; font-size: 13px;">
                <a href="https://github.com/AmarnathCJD/gogram" target="_blank" style="color: var(--text-secondary);">Gogram</a>
                <a href="https://corefork.telegram.org" target="_blank" style="color: var(--text-secondary);">Telegram Core</a>
                <a href="https://github.com/AmarnathCJD/tl-ref" target="_blank" style="color: var(--text-secondary);">About</a>
            </div>
        </div>
    </footer>
</body>
</html>
